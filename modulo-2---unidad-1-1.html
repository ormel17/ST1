<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Modulo 2 - Unidad 1 | Documento Bookdown Propuesta</title>
  <meta name="description" content="Bookdown propuesto para la asignatura Series de Tiempo." />
  <meta name="generator" content="bookdown 0.35 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Modulo 2 - Unidad 1 | Documento Bookdown Propuesta" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Bookdown propuesto para la asignatura Series de Tiempo." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Modulo 2 - Unidad 1 | Documento Bookdown Propuesta" />
  
  <meta name="twitter:description" content="Bookdown propuesto para la asignatura Series de Tiempo." />
  

<meta name="author" content="Diego Fernando Ortiz" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="modulo-2---unidad-1.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="inicio.html"><a href="inicio.html"><i class="fa fa-check"></i><b>1</b> Inicio</a></li>
<li class="chapter" data-level="2" data-path="modulo-1---unidad-1.html"><a href="modulo-1---unidad-1.html"><i class="fa fa-check"></i><b>2</b> Modulo 1 - Unidad 1</a>
<ul>
<li class="chapter" data-level="2.1" data-path="modulo-1---unidad-1.html"><a href="modulo-1---unidad-1.html#dataset"><i class="fa fa-check"></i><b>2.1</b> Dataset</a></li>
<li class="chapter" data-level="2.2" data-path="modulo-1---unidad-1.html"><a href="modulo-1---unidad-1.html#resumen-estadístico-de-las-variables"><i class="fa fa-check"></i><b>2.2</b> Resumen Estadístico de las Variables</a></li>
<li class="chapter" data-level="2.3" data-path="modulo-1---unidad-1.html"><a href="modulo-1---unidad-1.html#correlación"><i class="fa fa-check"></i><b>2.3</b> Correlación</a></li>
<li class="chapter" data-level="2.4" data-path="modulo-1---unidad-1.html"><a href="modulo-1---unidad-1.html#análisis-exploratorio-de-datos"><i class="fa fa-check"></i><b>2.4</b> Análisis exploratorio de datos</a></li>
<li class="chapter" data-level="2.5" data-path="modulo-1---unidad-1.html"><a href="modulo-1---unidad-1.html#descomposición-de-series-temporales"><i class="fa fa-check"></i><b>2.5</b> Descomposición de Series Temporales</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="modulo-1---unidad-2.html"><a href="modulo-1---unidad-2.html"><i class="fa fa-check"></i><b>3</b> Modulo 1 - Unidad 2</a>
<ul>
<li class="chapter" data-level="3.1" data-path="modulo-1---unidad-2.html"><a href="modulo-1---unidad-2.html#ajuste-de-los-datos"><i class="fa fa-check"></i><b>3.1</b> Ajuste de los datos</a></li>
<li class="chapter" data-level="3.2" data-path="modulo-1---unidad-2.html"><a href="modulo-1---unidad-2.html#análiis-del-promedio-movil"><i class="fa fa-check"></i><b>3.2</b> Análiis del promedio movil</a></li>
<li class="chapter" data-level="3.3" data-path="modulo-1---unidad-2.html"><a href="modulo-1---unidad-2.html#análisis-de-rezagos"><i class="fa fa-check"></i><b>3.3</b> Análisis de Rezagos</a></li>
<li class="chapter" data-level="3.4" data-path="modulo-1---unidad-2.html"><a href="modulo-1---unidad-2.html#análisis-de-estacionalidad"><i class="fa fa-check"></i><b>3.4</b> Análisis de Estacionalidad</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="modulo-1---unidad-3.html"><a href="modulo-1---unidad-3.html"><i class="fa fa-check"></i><b>4</b> Modulo 1 - Unidad 3</a>
<ul>
<li class="chapter" data-level="4.1" data-path="modulo-1---unidad-3.html"><a href="modulo-1---unidad-3.html#análisis-visual-y-descomposición-de-la-serie-temporal"><i class="fa fa-check"></i><b>4.1</b> Análisis Visual y Descomposición de la Serie Temporal</a></li>
<li class="chapter" data-level="4.2" data-path="modulo-1---unidad-3.html"><a href="modulo-1---unidad-3.html#verificación-de-estacionareidad"><i class="fa fa-check"></i><b>4.2</b> Verificación de estacionareidad</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="modulo-2---unidad-1.html"><a href="modulo-2---unidad-1.html"><i class="fa fa-check"></i><b>5</b> Modulo 2 - Unidad 1</a>
<ul>
<li class="chapter" data-level="5.1" data-path="modulo-2---unidad-1.html"><a href="modulo-2---unidad-1.html#modelo-holt-winters"><i class="fa fa-check"></i><b>5.1</b> Modelo Holt-Winters</a></li>
<li class="chapter" data-level="5.2" data-path="modulo-2---unidad-1.html"><a href="modulo-2---unidad-1.html#aplicación-del-modelo-holt-winters"><i class="fa fa-check"></i><b>5.2</b> Aplicación del modelo Holt-Winters</a></li>
<li class="chapter" data-level="5.3" data-path="modulo-2---unidad-1.html"><a href="modulo-2---unidad-1.html#visualización-de-los-ajustes-del-modelo"><i class="fa fa-check"></i><b>5.3</b> Visualización de los ajustes del modelo</a></li>
<li class="chapter" data-level="5.4" data-path="modulo-2---unidad-1.html"><a href="modulo-2---unidad-1.html#suavizamiento-exponencial"><i class="fa fa-check"></i><b>5.4</b> Suavizamiento exponencial</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="modulo-2---unidad-1-1.html"><a href="modulo-2---unidad-1-1.html"><i class="fa fa-check"></i><b>6</b> Modulo 2 - Unidad 1</a>
<ul>
<li class="chapter" data-level="6.1" data-path="modulo-2---unidad-1-1.html"><a href="modulo-2---unidad-1-1.html#modelos-de-series-de-tiempo-definiciones-y-aplicaciones"><i class="fa fa-check"></i><b>6.1</b> Modelos de Series de Tiempo: Definiciones y Aplicaciones</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Documento Bookdown Propuesta</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="modulo-2---unidad-1-1" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Modulo 2 - Unidad 1<a href="modulo-2---unidad-1-1.html#modulo-2---unidad-1-1" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<ul>
<li><strong>Inclusión de Variables en el Tiempo </strong></li>
</ul>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="modulo-2---unidad-1-1.html#cb58-1" tabindex="-1"></a><span class="fu">library</span>(lubridate)  <span class="co"># para manejo de fechas</span></span>
<span id="cb58-2"><a href="modulo-2---unidad-1-1.html#cb58-2" tabindex="-1"></a></span>
<span id="cb58-3"><a href="modulo-2---unidad-1-1.html#cb58-3" tabindex="-1"></a><span class="co"># Convertir la columna de fecha a tipo Date si no está convertida</span></span>
<span id="cb58-4"><a href="modulo-2---unidad-1-1.html#cb58-4" tabindex="-1"></a>data<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(data<span class="sc">$</span>date)</span>
<span id="cb58-5"><a href="modulo-2---unidad-1-1.html#cb58-5" tabindex="-1"></a></span>
<span id="cb58-6"><a href="modulo-2---unidad-1-1.html#cb58-6" tabindex="-1"></a><span class="co"># Crear nuevas variables de tiempo</span></span>
<span id="cb58-7"><a href="modulo-2---unidad-1-1.html#cb58-7" tabindex="-1"></a>data<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">year</span>(data<span class="sc">$</span>date)</span>
<span id="cb58-8"><a href="modulo-2---unidad-1-1.html#cb58-8" tabindex="-1"></a>data<span class="sc">$</span>month <span class="ot">&lt;-</span> <span class="fu">month</span>(data<span class="sc">$</span>date)</span>
<span id="cb58-9"><a href="modulo-2---unidad-1-1.html#cb58-9" tabindex="-1"></a>data<span class="sc">$</span>day <span class="ot">&lt;-</span> <span class="fu">day</span>(data<span class="sc">$</span>date)</span>
<span id="cb58-10"><a href="modulo-2---unidad-1-1.html#cb58-10" tabindex="-1"></a>data<span class="sc">$</span>day_of_week <span class="ot">&lt;-</span> <span class="fu">wday</span>(data<span class="sc">$</span>date, <span class="at">label =</span> <span class="cn">TRUE</span>)  <span class="co"># Días de la semana con etiquetas</span></span></code></pre></div>
<div id="modelos-de-series-de-tiempo-definiciones-y-aplicaciones" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Modelos de Series de Tiempo: Definiciones y Aplicaciones<a href="modulo-2---unidad-1-1.html#modelos-de-series-de-tiempo-definiciones-y-aplicaciones" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p><strong>Modelo Autorregresivo (AR):</strong>
Un modelo AR utiliza dependencias entre observaciones sucesivas para predecir valores futuros basándose únicamente en los valores pasados. Se denota como AR(p), donde ‘p’ es el número de observaciones pasadas (lags) utilizadas como predictores.</p></li>
<li><p><strong>Modelo de Media Móvil (MA):</strong>
En un modelo MA, la predicción se realiza sobre la base de los errores de predicción pasados, no directamente sobre los valores. Se expresa como MA(q), donde ‘q’ es el número de errores pasados que el modelo toma en cuenta.</p></li>
<li><p><strong>Modelo ARIMA (AutoRegressive Integrated Moving Average):</strong>
Combinando AR y MA, este modelo también incorpora un término de diferenciación (d) para convertir la serie en estacionaria, esencial para cumplir con los supuestos de los modelos lineales de series de tiempo. Se denota como ARIMA(p, d, q).</p></li>
<li><p><strong>Modelo ARIMA Estacional:</strong>
Extiende el ARIMA para capturar estacionalidades. Se denota como ARIMA(p, d, q)(P, D, Q)[s], donde P, D, y Q representan la autoregresión estacional, la diferenciación estacional, y la media móvil estacional, respectivamente, con ‘s’ indicando la periodicidad de la temporada.</p></li>
</ul>
<p><strong>Ajuste de Modelos de Series de Tiempo en R</strong></p>
<ul>
<li></li>
</ul>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="modulo-2---unidad-1-1.html#cb59-1" tabindex="-1"></a><span class="co"># Cargar las librerías necesarias</span></span>
<span id="cb59-2"><a href="modulo-2---unidad-1-1.html#cb59-2" tabindex="-1"></a><span class="fu">library</span>(tseries)</span>
<span id="cb59-3"><a href="modulo-2---unidad-1-1.html#cb59-3" tabindex="-1"></a><span class="fu">library</span>(forecast)</span>
<span id="cb59-4"><a href="modulo-2---unidad-1-1.html#cb59-4" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb59-5"><a href="modulo-2---unidad-1-1.html#cb59-5" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb59-6"><a href="modulo-2---unidad-1-1.html#cb59-6" tabindex="-1"></a></span>
<span id="cb59-7"><a href="modulo-2---unidad-1-1.html#cb59-7" tabindex="-1"></a><span class="co"># Cargar el dataset</span></span>
<span id="cb59-8"><a href="modulo-2---unidad-1-1.html#cb59-8" tabindex="-1"></a>ruta <span class="ot">&lt;-</span> <span class="st">&quot;C:/Users/Diego Ortiz/OneDrive/Documentos/Series de tiempo/Series1/ST1/DailyDelhiClimateTrain.csv&quot;</span></span>
<span id="cb59-9"><a href="modulo-2---unidad-1-1.html#cb59-9" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(ruta)</span>
<span id="cb59-10"><a href="modulo-2---unidad-1-1.html#cb59-10" tabindex="-1"></a></span>
<span id="cb59-11"><a href="modulo-2---unidad-1-1.html#cb59-11" tabindex="-1"></a><span class="co"># Ajuste del formato de la fecha</span></span>
<span id="cb59-12"><a href="modulo-2---unidad-1-1.html#cb59-12" tabindex="-1"></a>data<span class="sc">$</span>date <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(data<span class="sc">$</span>date)</span>
<span id="cb59-13"><a href="modulo-2---unidad-1-1.html#cb59-13" tabindex="-1"></a>data<span class="sc">$</span>day_of_week <span class="ot">&lt;-</span> <span class="fu">wday</span>(data<span class="sc">$</span>date, <span class="at">label =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-14"><a href="modulo-2---unidad-1-1.html#cb59-14" tabindex="-1"></a></span>
<span id="cb59-15"><a href="modulo-2---unidad-1-1.html#cb59-15" tabindex="-1"></a><span class="co"># Análisis de Estacionariedad y Transformaciones</span></span>
<span id="cb59-16"><a href="modulo-2---unidad-1-1.html#cb59-16" tabindex="-1"></a><span class="co"># Verificación inicial de estacionariedad</span></span>
<span id="cb59-17"><a href="modulo-2---unidad-1-1.html#cb59-17" tabindex="-1"></a>adf_result_original <span class="ot">&lt;-</span> <span class="fu">adf.test</span>(data<span class="sc">$</span>meantemp, <span class="at">alternative =</span> <span class="st">&quot;stationary&quot;</span>)</span>
<span id="cb59-18"><a href="modulo-2---unidad-1-1.html#cb59-18" tabindex="-1"></a><span class="fu">print</span>(adf_result_original)</span></code></pre></div>
<pre><code>## 
##  Augmented Dickey-Fuller Test
## 
## data:  data$meantemp
## Dickey-Fuller = -1.8526, Lag order = 11, p-value = 0.6407
## alternative hypothesis: stationary</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="modulo-2---unidad-1-1.html#cb61-1" tabindex="-1"></a><span class="co"># Transformación logarítmica</span></span>
<span id="cb61-2"><a href="modulo-2---unidad-1-1.html#cb61-2" tabindex="-1"></a>data<span class="sc">$</span>meantemp_log <span class="ot">&lt;-</span> <span class="fu">log</span>(data<span class="sc">$</span>meantemp)</span>
<span id="cb61-3"><a href="modulo-2---unidad-1-1.html#cb61-3" tabindex="-1"></a></span>
<span id="cb61-4"><a href="modulo-2---unidad-1-1.html#cb61-4" tabindex="-1"></a><span class="co"># Diferenciación de la serie transformada</span></span>
<span id="cb61-5"><a href="modulo-2---unidad-1-1.html#cb61-5" tabindex="-1"></a>data<span class="sc">$</span>meantemp_diff <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">NA</span>, <span class="fu">diff</span>(data<span class="sc">$</span>meantemp_log))  <span class="co"># Agrega NA al inicio para mantener la longitud</span></span>
<span id="cb61-6"><a href="modulo-2---unidad-1-1.html#cb61-6" tabindex="-1"></a></span>
<span id="cb61-7"><a href="modulo-2---unidad-1-1.html#cb61-7" tabindex="-1"></a><span class="co"># Reevaluar estacionariedad con la serie diferenciada</span></span>
<span id="cb61-8"><a href="modulo-2---unidad-1-1.html#cb61-8" tabindex="-1"></a>adf_result_diff <span class="ot">&lt;-</span> <span class="fu">adf.test</span>(<span class="fu">na.omit</span>(data<span class="sc">$</span>meantemp_diff), <span class="at">alternative =</span> <span class="st">&quot;stationary&quot;</span>)</span></code></pre></div>
<pre><code>## Warning in adf.test(na.omit(data$meantemp_diff), alternative = &quot;stationary&quot;):
## p-value smaller than printed p-value</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="modulo-2---unidad-1-1.html#cb63-1" tabindex="-1"></a><span class="fu">print</span>(adf_result_diff)</span></code></pre></div>
<pre><code>## 
##  Augmented Dickey-Fuller Test
## 
## data:  na.omit(data$meantemp_diff)
## Dickey-Fuller = -13.915, Lag order = 11, p-value = 0.01
## alternative hypothesis: stationary</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="modulo-2---unidad-1-1.html#cb65-1" tabindex="-1"></a><span class="co"># Remover NA creado por la diferenciación</span></span>
<span id="cb65-2"><a href="modulo-2---unidad-1-1.html#cb65-2" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(data)</span>
<span id="cb65-3"><a href="modulo-2---unidad-1-1.html#cb65-3" tabindex="-1"></a></span>
<span id="cb65-4"><a href="modulo-2---unidad-1-1.html#cb65-4" tabindex="-1"></a><span class="co"># Ajuste de un Modelo Lineal Estacionario</span></span>
<span id="cb65-5"><a href="modulo-2---unidad-1-1.html#cb65-5" tabindex="-1"></a><span class="co"># Modelo lineal utilizando variables temporales y la serie transformada y diferenciada</span></span>
<span id="cb65-6"><a href="modulo-2---unidad-1-1.html#cb65-6" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">lm</span>(meantemp_diff <span class="sc">~</span> <span class="fu">year</span>(date) <span class="sc">+</span> <span class="fu">month</span>(date) <span class="sc">+</span> day_of_week, <span class="at">data =</span> data)</span>
<span id="cb65-7"><a href="modulo-2---unidad-1-1.html#cb65-7" tabindex="-1"></a></span>
<span id="cb65-8"><a href="modulo-2---unidad-1-1.html#cb65-8" tabindex="-1"></a><span class="co"># Revisar el resumen del modelo para ver la significancia de los predictores</span></span>
<span id="cb65-9"><a href="modulo-2---unidad-1-1.html#cb65-9" tabindex="-1"></a><span class="fu">summary</span>(model)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = meantemp_diff ~ year(date) + month(date) + day_of_week, 
##     data = data)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.40903 -0.03496  0.00410  0.03966  0.44474 
## 
## Coefficients:
##                 Estimate Std. Error t value Pr(&gt;|t|)   
## (Intercept)    1.5627646  3.5452077   0.441  0.65942   
## year(date)    -0.0007708  0.0017598  -0.438  0.66144   
## month(date)   -0.0015183  0.0005713  -2.658  0.00796 **
## day_of_week.L -0.0056606  0.0052113  -1.086  0.27757   
## day_of_week.Q -0.0083401  0.0052105  -1.601  0.10968   
## day_of_week.C  0.0083180  0.0052134   1.595  0.11082   
## day_of_week^4 -0.0055981  0.0052131  -1.074  0.28307   
## day_of_week^5  0.0017441  0.0052152   0.334  0.73811   
## day_of_week^6 -0.0039548  0.0052126  -0.759  0.44816   
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 0.07531 on 1452 degrees of freedom
## Multiple R-squared:  0.0104, Adjusted R-squared:  0.004946 
## F-statistic: 1.907 on 8 and 1452 DF,  p-value: 0.05521</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="modulo-2---unidad-1-1.html#cb67-1" tabindex="-1"></a><span class="co"># Diagnóstico del Modelo</span></span>
<span id="cb67-2"><a href="modulo-2---unidad-1-1.html#cb67-2" tabindex="-1"></a><span class="co"># Verificar los residuos del modelo</span></span>
<span id="cb67-3"><a href="modulo-2---unidad-1-1.html#cb67-3" tabindex="-1"></a><span class="co"># Gráfico de residuos</span></span>
<span id="cb67-4"><a href="modulo-2---unidad-1-1.html#cb67-4" tabindex="-1"></a><span class="fu">ggplot</span>(data, <span class="fu">aes</span>(<span class="at">x =</span> date, <span class="at">y =</span> <span class="fu">residuals</span>(model))) <span class="sc">+</span></span>
<span id="cb67-5"><a href="modulo-2---unidad-1-1.html#cb67-5" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb67-6"><a href="modulo-2---unidad-1-1.html#cb67-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Residuos del Modelo de Temperatura&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Residuos&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Fecha&quot;</span>)</span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="modulo-2---unidad-1-1.html#cb68-1" tabindex="-1"></a><span class="co"># Prueba de normalidad de los residuos</span></span>
<span id="cb68-2"><a href="modulo-2---unidad-1-1.html#cb68-2" tabindex="-1"></a>shapiro_test_result <span class="ot">&lt;-</span> <span class="fu">shapiro.test</span>(<span class="fu">residuals</span>(model))</span>
<span id="cb68-3"><a href="modulo-2---unidad-1-1.html#cb68-3" tabindex="-1"></a><span class="fu">print</span>(shapiro_test_result)</span></code></pre></div>
<pre><code>## 
##  Shapiro-Wilk normality test
## 
## data:  residuals(model)
## W = 0.94823, p-value &lt; 2.2e-16</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="modulo-2---unidad-1-1.html#cb70-1" tabindex="-1"></a><span class="co"># Previsión Futura</span></span>
<span id="cb70-2"><a href="modulo-2---unidad-1-1.html#cb70-2" tabindex="-1"></a><span class="co"># Generar un nuevo conjunto de datos para las predicciones futuras</span></span>
<span id="cb70-3"><a href="modulo-2---unidad-1-1.html#cb70-3" tabindex="-1"></a>future_dates <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="fu">max</span>(data<span class="sc">$</span>date) <span class="sc">+</span> <span class="dv">1</span>, <span class="at">by =</span> <span class="st">&quot;day&quot;</span>, <span class="at">length.out =</span> <span class="dv">10</span>)</span>
<span id="cb70-4"><a href="modulo-2---unidad-1-1.html#cb70-4" tabindex="-1"></a>new_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb70-5"><a href="modulo-2---unidad-1-1.html#cb70-5" tabindex="-1"></a>  <span class="at">date =</span> future_dates,</span>
<span id="cb70-6"><a href="modulo-2---unidad-1-1.html#cb70-6" tabindex="-1"></a>  <span class="at">day_of_week =</span> <span class="fu">factor</span>(<span class="fu">wday</span>(future_dates, <span class="at">label =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb70-7"><a href="modulo-2---unidad-1-1.html#cb70-7" tabindex="-1"></a>  <span class="at">meantemp_diff =</span> <span class="cn">NA</span>,  <span class="co"># Placeholder, no se usa en el modelo de predicción</span></span>
<span id="cb70-8"><a href="modulo-2---unidad-1-1.html#cb70-8" tabindex="-1"></a>  <span class="at">year =</span> <span class="fu">year</span>(future_dates),</span>
<span id="cb70-9"><a href="modulo-2---unidad-1-1.html#cb70-9" tabindex="-1"></a>  <span class="at">month =</span> <span class="fu">month</span>(future_dates)</span>
<span id="cb70-10"><a href="modulo-2---unidad-1-1.html#cb70-10" tabindex="-1"></a>)</span>
<span id="cb70-11"><a href="modulo-2---unidad-1-1.html#cb70-11" tabindex="-1"></a></span>
<span id="cb70-12"><a href="modulo-2---unidad-1-1.html#cb70-12" tabindex="-1"></a><span class="co"># Predecir usando el modelo ajustado</span></span>
<span id="cb70-13"><a href="modulo-2---unidad-1-1.html#cb70-13" tabindex="-1"></a>prediction <span class="ot">&lt;-</span> <span class="fu">predict</span>(model, <span class="at">newdata =</span> new_data)</span>
<span id="cb70-14"><a href="modulo-2---unidad-1-1.html#cb70-14" tabindex="-1"></a></span>
<span id="cb70-15"><a href="modulo-2---unidad-1-1.html#cb70-15" tabindex="-1"></a><span class="co"># Visualizar las predicciones</span></span>
<span id="cb70-16"><a href="modulo-2---unidad-1-1.html#cb70-16" tabindex="-1"></a><span class="fu">plot</span>(future_dates, prediction, <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Date&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Predicted Mean Temperature&quot;</span>,</span>
<span id="cb70-17"><a href="modulo-2---unidad-1-1.html#cb70-17" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Forecast of Mean Temperature&quot;</span>)</span>
<span id="cb70-18"><a href="modulo-2---unidad-1-1.html#cb70-18" tabindex="-1"></a><span class="fu">lines</span>(data<span class="sc">$</span>date, data<span class="sc">$</span>meantemp, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>)  <span class="co"># Añadir los datos originales para comparar</span></span></code></pre></div>
<p><img src="index_files/figure-html/unnamed-chunk-31-2.png" width="672" /></p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="modulo-2---unidad-1.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": false,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
